import * as m3u8Parser from 'm3u8-parser'

it('parse m3u8', () => {
    var parser = new m3u8Parser.Parser()

    parser.push(masterPlaylist)
    parser.end()

    console.log(parser.manifest)
    // console.log(parsed.isMasterPlaylist)
})

const masterPlaylist = `
#EXTM3U
#EXT-X-TARGETDURATION:5
#EXT-X-VERSION:4
#EXT-X-MEDIA-SEQUENCE:0
#EXT-X-PLAYLIST-TYPE:VOD
#EXTINF:6,
#EXT-X-BYTERANGE:197024@0
HLS_224.ts
#EXTINF:6,
#EXT-X-BYTERANGE:206612@197024
HLS_224.ts
#EXTINF:5,
#EXT-X-BYTERANGE:184240@403636
HLS_224.ts
#EXTINF:6,
#EXT-X-BYTERANGE:208492@587876
HLS_224.ts
#EXTINF:6,
#EXT-X-BYTERANGE:219960@796368
HLS_224.ts
#EXTINF:5,
#EXT-X-BYTERANGE:173524@1016328
HLS_224.ts
#EXT-X-ENDLIST
#EXTM3U
#EXT-X-TARGETDURATION:5
#EXT-X-VERSION:4
#EXT-X-MEDIA-SEQUENCE:0
#EXT-X-PLAYLIST-TYPE:VOD
#EXTINF:6,
#EXT-X-BYTERANGE:344040@0
HLS_270.ts
#EXTINF:6,
#EXT-X-BYTERANGE:354568@344040
HLS_270.ts
#EXTINF:5,
#EXT-X-BYTERANGE:314712@698608
HLS_270.ts
#EXTINF:6,
#EXT-X-BYTERANGE:363404@1013320
HLS_270.ts
#EXTINF:6,
#EXT-X-BYTERANGE:379196@1376724
HLS_270.ts
#EXTINF:5,
#EXT-X-BYTERANGE:296476@1755920
HLS_270.ts
#EXT-X-ENDLIST
#EXTM3U
#EXT-X-TARGETDURATION:5
#EXT-X-VERSION:4
#EXT-X-MEDIA-SEQUENCE:0
#EXT-X-PLAYLIST-TYPE:VOD
#EXTINF:6,
#EXT-X-BYTERANGE:639200@0
HLS_360.ts
#EXTINF:6,
#EXT-X-BYTERANGE:641268@639200
HLS_360.ts
#EXTINF:5,
#EXT-X-BYTERANGE:578664@1280468
HLS_360.ts
#EXTINF:6,
#EXT-X-BYTERANGE:668340@1859132
HLS_360.ts
#EXTINF:6,
#EXT-X-BYTERANGE:702744@2527472
HLS_360.ts
#EXTINF:5,
#EXT-X-BYTERANGE:547644@3230216
HLS_360.ts
#EXT-X-ENDLIST
#EXTM3U
#EXT-X-TARGETDURATION:5
#EXT-X-VERSION:4
#EXT-X-MEDIA-SEQUENCE:0
#EXT-X-PLAYLIST-TYPE:VOD
#EXTINF:6,
#EXT-X-BYTERANGE:976660@0
HLS_540.ts
#EXTINF:6,
#EXT-X-BYTERANGE:1008056@976660
HLS_540.ts
#EXTINF:5,
#EXT-X-BYTERANGE:891496@1984716
HLS_540.ts
#EXTINF:6,
#EXT-X-BYTERANGE:1045468@2876212
HLS_540.ts
#EXTINF:6,
#EXT-X-BYTERANGE:1080248@3921680
HLS_540.ts
#EXTINF:5,
#EXT-X-BYTERANGE:855588@5001928
HLS_540.ts
#EXT-X-ENDLIST
#EXTM3U
#EXT-X-TARGETDURATION:5
#EXT-X-VERSION:4
#EXT-X-MEDIA-SEQUENCE:0
#EXT-X-PLAYLIST-TYPE:VOD
#EXTINF:6,
#EXT-X-BYTERANGE:1315812@0
HLS_576.ts
#EXTINF:6,
#EXT-X-BYTERANGE:1235724@1315812
HLS_576.ts
#EXTINF:5,
#EXT-X-BYTERANGE:1203388@2551536
HLS_576.ts
#EXTINF:6,
#EXT-X-BYTERANGE:1506632@3754924
HLS_576.ts
#EXTINF:6,
#EXT-X-BYTERANGE:1222188@5261556
HLS_576.ts
#EXTINF:5,
#EXT-X-BYTERANGE:1365820@6483744
HLS_576.ts
#EXT-X-ENDLIST
#EXTM3U
#EXT-X-TARGETDURATION:5
#EXT-X-VERSION:4
#EXT-X-MEDIA-SEQUENCE:0
#EXT-X-PLAYLIST-TYPE:VOD
#EXTINF:6,
#EXT-X-BYTERANGE:197024@0
HLS_224.ts
#EXTINF:6,
#EXT-X-BYTERANGE:206612@197024
HLS_224.ts
#EXTINF:5,
#EXT-X-BYTERANGE:184240@403636
HLS_224.ts
#EXTINF:6,
#EXT-X-BYTERANGE:208492@587876
HLS_224.ts
#EXTINF:6,
#EXT-X-BYTERANGE:219960@796368
HLS_224.ts
#EXTINF:5,
#EXT-X-BYTERANGE:173524@1016328
HLS_224.ts
#EXT-X-ENDLIST
#EXTM3U
#EXT-X-TARGETDURATION:5
#EXT-X-VERSION:4
#EXT-X-MEDIA-SEQUENCE:0
#EXT-X-PLAYLIST-TYPE:VOD
#EXTINF:6,
#EXT-X-BYTERANGE:344040@0
HLS_270.ts
#EXTINF:6,
#EXT-X-BYTERANGE:354568@344040
HLS_270.ts
#EXTINF:5,
#EXT-X-BYTERANGE:314712@698608
HLS_270.ts
#EXTINF:6,
#EXT-X-BYTERANGE:363404@1013320
HLS_270.ts
#EXTINF:6,
#EXT-X-BYTERANGE:379196@1376724
HLS_270.ts
#EXTINF:5,
#EXT-X-BYTERANGE:296476@1755920
HLS_270.ts
#EXT-X-ENDLIST
#EXTM3U
#EXT-X-TARGETDURATION:5
#EXT-X-VERSION:4
#EXT-X-MEDIA-SEQUENCE:0
#EXT-X-PLAYLIST-TYPE:VOD
#EXTINF:6,
#EXT-X-BYTERANGE:639200@0
HLS_360.ts
#EXTINF:6,
#EXT-X-BYTERANGE:641268@639200
HLS_360.ts
#EXTINF:5,
#EXT-X-BYTERANGE:578664@1280468
HLS_360.ts
#EXTINF:6,
#EXT-X-BYTERANGE:668340@1859132
HLS_360.ts
#EXTINF:6,
#EXT-X-BYTERANGE:702744@2527472
HLS_360.ts
#EXTINF:5,
#EXT-X-BYTERANGE:547644@3230216
HLS_360.ts
#EXT-X-ENDLIST
#EXTM3U
#EXT-X-TARGETDURATION:5
#EXT-X-VERSION:4
#EXT-X-MEDIA-SEQUENCE:0
#EXT-X-PLAYLIST-TYPE:VOD
#EXTINF:6,
#EXT-X-BYTERANGE:976660@0
HLS_540.ts
#EXTINF:6,
#EXT-X-BYTERANGE:1008056@976660
HLS_540.ts
#EXTINF:5,
#EXT-X-BYTERANGE:891496@1984716
HLS_540.ts
#EXTINF:6,
#EXT-X-BYTERANGE:1045468@2876212
HLS_540.ts
#EXTINF:6,
#EXT-X-BYTERANGE:1080248@3921680
HLS_540.ts
#EXTINF:5,
#EXT-X-BYTERANGE:855588@5001928
HLS_540.ts
#EXT-X-ENDLIST
#EXTM3U
#EXT-X-TARGETDURATION:5
#EXT-X-VERSION:4
#EXT-X-MEDIA-SEQUENCE:0
#EXT-X-PLAYLIST-TYPE:VOD
#EXTINF:6,
#EXT-X-BYTERANGE:1315812@0
HLS_576.ts
#EXTINF:6,
#EXT-X-BYTERANGE:1235724@1315812
HLS_576.ts
#EXTINF:5,
#EXT-X-BYTERANGE:1203388@2551536
HLS_576.ts
#EXTINF:6,
#EXT-X-BYTERANGE:1506632@3754924
HLS_576.ts
#EXTINF:6,
#EXT-X-BYTERANGE:1222188@5261556
HLS_576.ts
#EXTINF:5,
#EXT-X-BYTERANGE:1365820@6483744
HLS_576.ts
#EXT-X-ENDLIST
`
